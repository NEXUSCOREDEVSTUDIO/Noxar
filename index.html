<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Noxar – República Digital</title>
<link rel="stylesheet" href="style.css">

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-database-compat.js"></script>

</head>
<body>

<div id="loginBox" class="card">
    <h2>Ingreso a Noxar</h2>
    <input id="user" placeholder="Usuario">
    <input id="pass" type="password" placeholder="Contraseña">
    <button onclick="login()">Entrar</button>
    <p onclick="showRegister()">Crear cuenta</p>
</div>

<div id="registerBox" class="card" style="display:none">
    <h2>Registro Ciudadano</h2>
    <input id="newUser" placeholder="Usuario">
    <input id="newPass" type="password" placeholder="Contraseña">
    <button onclick="register()">Registrarse</button>
    <p onclick="showLogin()">Volver</p>
</div>

<div id="panel" style="display:none">
    <header>
        <h1>República Digital de Noxar</h1>
        <h3 id="welcome"></h3>
    </header>

    <nav class="nav-bar">
        <button onclick="showSection('home')">Inicio</button>
        <button onclick="showSection('constitution')">Constitución</button>
        <button onclick="showSection('vote')">Votaciones</button>
        <button onclick="showSection('presidentialVote')">Votación Presidencial</button>
        <button onclick="showSection('parliament')">Parlamento</button>
        <button id="adminBtn" onclick="showSection('admin')" style="display:none">Admin</button>
        <button onclick="logout()">Salir</button>
    </nav>

    <div id="home" class="section card">
        <h2>Bienvenido a Noxar</h2>
        <p>Noxar es una nación digital soberana basada en democracia, orden y tecnología.</p>
    </div>

    <div id="constitution" class="section card" style="display:none">
        <h2>Constitución</h2>
        <div id="constitutionTextContainer">
            <p id="constitutionText"></p>
            <textarea id="constitutionEdit" style="display:none;width:100%;height:150px;"></textarea>
            <button id="saveConstitution" style="display:none" onclick="saveConstitution()">Guardar Cambios</button>
        </div>
    </div>

    <div id="vote" class="section card" style="display:none">
        <h2>Votación Nacional</h2>
        <p id="voteQuestion"></p>
        <div id="voteButtons"></div>
        <p id="voteResult"></p>
    </div>

    <div id="presidentialVote" class="section card" style="display:none">
        <h2>Votación Presidencial</h2>
        <div id="presButtons"></div>
        <p id="presVoteResult"></p>
    </div>

    <div id="parliament" class="section card" style="display:none">
        <h2>Parlamento</h2>
        <div id="chatBox" style="height:200px;overflow:auto;background:#111;padding:5px;border-radius:5px;"></div>
        <input id="chatInput" placeholder="Escribe un mensaje">
        <button onclick="sendChat()">Enviar</button>
    </div>

    <div id="admin" class="section card" style="display:none">
        <h2>Panel del Líder Supremo</h2>
        <p>Total ciudadanos: <span id="totalUsers"></span></p>
        <p>Votos Sí: <span id="yesVotes"></span></p>
        <p>Votos No: <span id="noVotes"></span></p>

        <div id="pendingUsers" class="card"></div>

        <button onclick="toggleVote(true)">Habilitar Votación General</button>
        <button onclick="toggleVote(false)">Deshabilitar Votación General</button>
        <button onclick="togglePresidentialVote(true)">Habilitar Votación Presidencial</button>
        <button onclick="togglePresidentialVote(false)">Deshabilitar Votación Presidencial</button>

        <button onclick="editConstitution()">Editar Constitución</button>
    </div>
</div>

<script src="noxar.js"></script>
</body>
</html>
